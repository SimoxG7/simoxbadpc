Lezione 01 - 28/10/22

Packet tracer -> Strumento di Cisco (Networking Academy) per training su amministrazione di reti, configurazione apparati, servizi, controllo degli accessi.

Socket Java -> Interfaccia per l'accesso ai servizi di rete 
	- programmazione di applicazioni distribuite (event-driven).
	- insieme di classi oer l'accesso ai servizi del trasporto all'interno di applicazioni.
	- di alto livello -> invisibili molti dettagli di sistema.


Packet tracer lavora a livello 2 e 3 dello standard OSI (Network 3 e Data Link 2) [in TCP/IP: Internet 3 e Data Link 2].
Socket lavora a livello 4 dello standard OSI e di Internet.

Cisco Packet Tracer -> Emulatore di reti -> Permette di disegnare la nostra rete e assicurarci del suo funzionamento con notevole realismo. 

Router (Livello 3), Switch (Livello 2).

In CPT ci sono anche i modelli che Cisco crea irl (indicati dal codice sotto al dispositivo).

Applicazioni distribuite: riguardano il livello 4 (Socket). 

Socket Java danno solo accesso al trasporto; altre socket danno accesso anche a livelli minori come network (Socket C).

Materiale -> Slide del docente, contenuti relativi alle lezioni (Ariel: file .pkt, sorgenti Java, audio/video relativi a svolgimento di esercizi, lezioni registrate), dispensa Packet Tracer.

Anche syllabus (calendario delle lezioni dipende dalla parte di teoria).

Esame (CPR: calcolo parametri di rete, + PT: configurazione pacchetti di rete, + JS: sviluppo di applicazione distribuita) -> voto = ((0.25CPR + 0.25PT + 0.5JS) * 0.4) + (Teoria * 0.6) ; //tutte nello stesso appello (che branco di clown sti prof) 

Iniziamo con qualcosa di packet tracer (8.2.0).

Livello Fisico: cablature, cavi cross e straight, hub
Livello Data-Link: 
	- bridge, switch, configurazione VLAN 
	...
	
Configurazione Cisco: Options -> Preferences -> Miscellaneous 
	Configurazione opzioni uso memoria: Auto Clear Event List
	Per fare fronte a blocchi applicazione: Auto File Backup Interval 
	
Logical -> Spazio non ha caratteristiche, ci possiamo mettere ciò che vogliamo.
Physical -> Posso rappresentare una rete fisica e collegarmi a reti esterne che ancora non possediamo. 

In alto strumento di selezione per selezionare. In basso a sinistra per scegliere End Device, Connection, Network Devices, Components; ciascuno con altre sottocategorie (nella lista che compare sotto).

Lente di ingrandimento -> informazioni extra sul dispositivo.

Strumento di delete -> Cancella dispositivo.

Icona 5 -> Per aggiungere note. 

Palette di dialogo con possibile selezione di forma e colore -> per evidenziare zone della rete che sono insieme ad esempio. 

Aggiungiamo ripetitore Hub (permette di modificarfe il segnale). Hover sul dispositivo e mostra informazioni (o ci clicco sopra e mostra com'è fisicamente). All'interno ha 6 moduli (6 possibili tipi di porte). Le porte sono classificate con due o tre lettere (CFE -> Copper Fast Ethernet). Posso spegnere la corrente e poi aggiungere/rimuovere moduli nelle porte.

Per collegare Hub andiamo in Connection.

Posizioni da destra a sinistra (livello fisico) 0,1,2,3,...

Connessione automatica è pericolosa. Tra router e router ad esempio crea in automatico una connessione seriale (passa un bit alla volta in rete). Per vedere cosa stiamo collegando -> Options -> Preferences -> Interface -> Always show port labels in logical space.

Doppio cerchio (uno in, uno out) -> Fibra ottica.

Triangoli rossi -> non va la connessione (verdi -> va).

Hub è apparato plug-and-play, non necessita configurazione. Router invece necessita di configurazione.

Porta ha anche numero espresso. 

Da visione fisica -> config -> interface che ci serve -> posso accenderla. 

---------------------------------------------------------------------------------------------------------------------

Lezione 02 - 04/11/22

Lavoriamo su packet tracer. Icone: Hub, switch, router, bridge. Che differenza c'è fra le connessioni? (Occhio a usare la scelta automatica delle connessioni).

Router -> dal francese, vuol dire strada. 

Link possono essere rappresentati tramite un cavo dritto o un cavo cross. 

Cavi con terminatore RJ-45 -> cavi di rete. 

Esistono anche i repeater (ripetono il segnale).

Twisted pair cable -> 8 cavetti in rame (8 colori -> 4 di colore e 4 associati di colore+bianco).

Fibra ottica -> all'interno viaggia un segnale luminoso, ma anche il sole emette luce, per cui se i cavi della fibra ottica vengono esposti alla luce, possono subire un'alterazione dei dati che vengono trasferiti. A tale scopo, la superficie della fibra è specchiata, in modo tale da avere un'isolazione dalle interferenze esterne. 

I cavi in rame hanno anch'essi una doppia guaina per isolare il segnale, ma non è efficiente a livello di isolazione come la fibra ottica, infatti i cavi in rame sono più influenzabili dai campi elettromagnetici esterni.

Hub ha più interfacce di rete, in cui può entrare un cavo con terminatore RJ-45. // (PT-Hub su PT)

Un Hub non ha nessuna intelligenza se non quella hardware. Hub fa broadcast, su qualunque delle interfacce fa il segnale. Il repeater hub prende il segnale, lo ripulisce e lo manda su tutte le interfacce tranne quella da cui è arrivato il dato. 

Bridge e switch lavorano invece a livello data-link, ovvero il livello in cui realizzo un servizio connection-oriented con un dispositivo che è "adiacente" al nostro. Bridge e switch sanno fare indirizzamento di livello 2, ovvero indirizzare/identificare in reti punto-punto l'apparato che sta dall'altro lato del cavo, in reti broadcast ogni apparato che sta nella LAN (con indirizzi di livello 2). A livello 2 vengono anche implementate le politiche di accesso al mezzo (per evitare sovrapposizione di segnali). 

//interferenze sinusoidali -> due sinusoidi si alterano a vicenda, sporcando il segnale. 

Bridge -> come un ponte ha solo due estremi -> ha solo due slot, può collegare soltanto due apparati in maniera diretta.

Switch può invece avere molte porte. 

Bridge collega solo reti omogenee, switch collega anche reti non omogenee. 

Un bridge collega solo reti che usano protocolli di livello data-link (2) omogenei.

PT: Options -> Preferences -> General -> Always show port labels. 

Collegamento seriale ha "zigzag", non vuole vedere che viene usato il collegamento seriale (?). 

Cablature: UTP: 
	- pin 1 (arancione+bianco) e 2 (arancione) -> invio
	- pin 3 (verde+bianco) e 6 (verde) -> ricezione 
	
Solo questi 4 cavi degli 8 vengono usati nelle reti ethernet e fast ethernet. 

Tra apparati di livello diverso usiamo cavi straight, cross altrimenti (ad esempio tra pc e router -> cross). Tra apparati di livello 1-2 -> cross. 

PIN:
Straight:			Crossed: 
1- WO				WG
2- O				G
3- WG				WO
4- BL				WBR
5- WBL				BR	
6- G				O
7- WBR				BL
8- BR 				WBL

(W -> white, O -> orange, G -> green, BL -> blue, BR -> brown).

In questo modo in collegamento con cavi crossed i pin di invio 1 e 2 (WO e O) entrano nei pin di ricezione 3 e 6 (WG e G), che sono rispettivamente 1 e 2 in porta di ricezione. [...] 

Esercizio sulle cablature: per ogni possibile coppia di dispositivi, li connettiamo. 

				Hub 		Switch		Router 		Workstation
Hub				Cross		Cross		Straight 	Straight	
Switch			Cross		Cross		Straight	Straight 
Router			Straight	Straight	Cross		Cross	
Workstation		Straight 	Straight 	Cross		Cross

PC ha solo due porte: Bluetooth e fast ethernet. Entrambe le porte hanno un MAC address (Medium Access, sottolivello del data-link), usato per identificare un dispositivo presente nella LAN. 

Connettere due bridge con cavo cross genera i cerchi arancioni sulle porte, che poi diventano verdi da soli (?). 

Bridge ha apparato di livello 2. I due bridge alla connessione si parlano e si accordano. Questo richiede tempo, pertanto alla connessione necessitano di "un tempo di setup". //questo usando il realtime, se usiamo simulation invece possiamo avanzare di evento in evento (o tornare indietro) e far andare avanti il tempo con continuità evento per evento.
I bridge (o switch) si scambiano messaggi di livello 2. 

Interfaccia dei router deve essere attivata, altrimenti non funzionano. 

Numerazione interfacce: prima cifra -> numero di slot fisico della scheda, seguita da / , seconda cifra -> numero di posizione di quel tipo di interfaccia sulla scheda. Slot si contano da destra a sinistra. 

Router è dispositivo che pretende che su ognuna delle sue interfacce di rete vi sia una rete diversa, il che implica che al router vada detto quale rete è su quale interfaccia. 

Usare nella shell: ping (localhost) 

Come argomento ping prende l'indirizzo di qualche cosa, ad esempio: ping www.unimi.it

In Simulation possiamo scegliere quali eventi vogliamo che vengano mostrati nella lista degli eventi. Scegliamo ICMP (richieste e replys).

Diamo indirizzi a oggetto di livello 3 -> Config -> interfaccia -> 192.168.0.1 (ad esempio). 

Vado su Add simple PDU e assegno il pacchetto al pc per farlo inviare all'altro pc (P). Schiacciando sul "messaggio" si possono vedere le informazioni del PDU.

Assegnare ad ogni EndSystem un IP.

Se due dispositivi hanno lo stesso IP, il source non manderà nemmeno il pacchetto, perchè penserà che sia destinato a sè stesso (e dunque è già arrivato). 




----------------------------------------------------------------------------------------------------

Lezione 3 - 08/11/22 

Per fare funzionare i ping, devo dare degli indirizzi IP alle macchine (assegnati nella pagina config -> interfaccia relativa e cambiare ipv4).

help ping -> mostra opzioni per cambiare frequenza e lunghezza dei pacchetti inviati nel ping.

All'interno di una LAN lavoro solo a livello 2.

Se schiaccio sul PDU (messaggio scambiato) mostra le informazioni del messaggio. 

Grazie al protocollo ARP in scambio da laptop-switch-pc, si riesce a capire che il dispositivo a cui inviare il messaggio è nella LAN e viene tradotto dunque in MAC (?). 

Router essendo di livello 3 necessita di essere configurato. 

Per poter parlare a livello 3 (uscire dalla LAN), è necessario il router e che l'end-system abbia un gateway di default settato, ovvero l'indirizzo che daremo al router.

Il gateway deve avere un indirizzo con primi 3 numeri quelli che identificano la rete: 192.168.0.x -> 192.168.0.254 e quindi anche sul router la fastethernet relativa viene chiamata come quella del PC, o il PC non può uscire dalla LAN.

Se a un'interfaccia fastEthernet del router do un indirizzo già esistente nella rete ho un errore di sovrapposizione -> si sovrappone con la stessa rete 192.168.0.x -> router vuole reti diverse -> 192.168.1.1 (ok).

Filtro eventi usando solo ARP e ICMP. Ora il ping tra server-router-endsystem funziona. 

Router serve a poter far comunicare LAN diverse attraverso l'utilizzo di gateway. 

Router sono apparati intelligenti che costano molto. Switch invece non sono intelligenti e costano molto di meno. 

Router ha processo di apprendimento. 

Non attaccare mai i PC alle interfacce dei router direttamente (passare per switch, in modo di formare LAN).

Per vedere la tabella di routing di un router -> inspect sul router -> routing table. 

Slide 18 esercizi.

ICMP -> solo ping.

Bridge è apparato di livello 2 -> La sua ARP table è vuota (non capisce livello 3), ma la sua MAC table si può riempire invece. Con i passaggi di pacchetti il Bridge "impara" e riempie la sua MAC table. 

3 bridge o 3 switch a triangolo -> fanno anello e continuano a far girare messaggi -> rompono l'anello non attivando una delle interfacce. 





----------------------------------------------------------------------------------------------

Lezione 4 - 11/11/22

Slide 2 del file PT1. 5 PC tutti collegati a uno switch.

Attivo ICMP per vedere i ping. 

Gli switch imparando dove sono situati gli endpoint possono rompere i domini di collisione. 

Algoritmo di Dijkstra -> ottimo per calcolare il miglior cammino in un grafo, ma ha la necessità di conoscere l'intera topologia del grafo. Ha costo di n² (n^2), dove n è il numero di nodi del grafo. Viene usato in addressing (?). 

Hub, Switch e Bridge sono apparati plug-n-play. Per rimanere a livello due, ma avere due reti distinte logicamente (giallo e blu), dobbiamo istruire gli switch. Click sullo switch -> tab configurazione -> Switching -> VLAN database. Nel database ci sono già valori predefiniti (1 -> default). Gli altri sono dei protocolli di livello 2 (fddi fiber con topologia ad anello).

Le VLAN hanno due valori -> un indice numerico e un nome. 

Una buona pratica nel dare il nome alle VLAN è quella di aggiungere nel nome l'identificare numerico della VLAN.

Spesso si associano delle VLAN a dei colori. 

Istruisco tutti gli switch aggiungendo al loro VLAN database le VLAN espresse tramite il relativo numero e il relativo nome. 

(Options -> Interface -> Always show port labels in logical workspace ON).

Poi bisogna dire che all'interfaccia dello switch possono accedere solo frame che fanno parte della vlan dello specifico numero. 

Cambiate le VLAN accettate dall'interfaccia, lo switch si riconfigurerà. 

Ancora non funzione il passaggio tra i due switch perchè gli switch sono anche loro con una VLAN (1, default). 

Devo dire che il link collegato alla fastethernet del link permette l'accesso ai frame arancioni e viceversa sull'altro switch. 

Per far passare anche i frame blu però devo anche poter utilizzare altre porte in più.

Protocollo 802.1Q modifica il protocollo ethernet in modo tale che le ethernet hanno un formato del frame leggermente diverso nel quale viene aggiunto un Header 802.1Q. Questo header contiene anche il VLAN ID. 

Standard 802.1Q -> protocollo di trunking. 

Dallo switch -> config -> interface -> cambio il protocollo in protocollo di trunking. 

ARP è protocollo di livello 2 e mezzo (capisce sia indirizzi di livello 2 che di livello 3). 

Apparati di rete hanno il loro Sistema Operativo -> IOS -> possiamo andare a lavorare direttamente al prompt di shell del nostro apparato dalla sezione CLI (Command Line Interface). 

CLI ha due livelli di accesso: utente (consente la visualizzazione della configurazione, ha simbolo di > nel prompt) e privilegiato (consente la modifica della configurazione, ha simbolo di # nel prompt). //i due livelli di accesso hanno due password differenti 

Al prompt di uno switch -> ? -> fa vedere comandi a disposizione si uno switch. 

disable -> fa tornare in modalità utente, enable -> fa entrare in modalità privilegiata. 
ping -> ICMP, manda un messaggio echo. 
traceroute -> sfrutta icmp per capire il percorso eseguito da un pacchetto. 
show -> fa vedere la configurazione 

"comando ?" -> opzioni del comando 

show interfaces fastEthernet 0/1   			/7fa vedere caratteristiche dell'interfaccia 0/1



------------------------------------------------------------------------------------------------------

Lezione 05 - 15/11/22 

Interfaccia grafica per LAN virtuali attraverso CLI (termine dell'ultima lezione). Router non sono plug-n-play, tipicamente necessitano di una configurazione prima di poter funzionare. 

Abbiamo 3 modi per configurare un apparato: 
- Interfaccia grafica (pensata per utenti non esperti o pratici).
- Command line IOS (Internet-working Operative System, proprietario di Cisco, ma anche altre aziende hanno OS analoghi). Consente di riconfigurare un'ifc lasciando operative le altre.
- tftp (Trivial File Transfer Protocol, scaricamento di file editato off-line, tipicamente gli amministratore di rete tengono dei file di configurazione già testati e funzionanti).
.

Posso entrare in modalità privilegiata solo se sono già in modalità utente (come sudo in Linux, devo già essere dentro come utente) (> -> utente, # -> privilegiata). . 

Comandi in CLI di switch: 
? -> comandi disponibili 
show ? -> help per il comando show 

Filtro di simulazione -> Misc -> STP 

In una rete con loop tra switch, dei dati potrebbero girare indefinitivamente. Grazie a STP (Spanning Tree Protocol) gli switch cercano di scoprire quali apparati hanno vicino. Dopo un certo punto due link diventeranno verdi, ma il loop non permetterà al terzo switch di avere link verde -> un'interfaccia a caso verrà disabilitata per interrompere il loop. In questo modo il pacchetto prenderà però una strada più lunga facendo ad esempio un hop in più tra gli switch. 

Nella realtà gli amministratori di rete creano dei loop, poichè in caso di guasto di uno switch continuo ad avere una rete funzionante (al guasto dello switch non vi è più loop e lo STP permette che l'interfaccia dello switch in precedenza disabilitato verrà resa funzionante. 

show permette di vedere anche la MAC address table. 

Secure shell (ssh) e Secure Socket Layer (ssl) vengono usati per comunicazione cifrata. 

show in fa 0/1 -> mostra interfaccia fastethernet 0/1 

enable -> vado in modalità privilegiata.
disable -> torno in modalità utente. 

ctrl-shift-6 per fare l'abort dell'esecuzione di un comando. (ctrl-alt-6 per linux) 

show ? -> in modalità privilegiata fa ovviamente vedere più roba. 

show access-lists -> mostra le ACL usate per controllare il traffico su una interfaccia. 

show boot -> configurazione di cosa fa l'apparato al boot. 

show interfaces fa 0/1 

show running-config -> per vedere la configurazione di startup dell'apparato. 

show snmp -> simple network management protocol -> incapsula i comandi della CLI per farli arrivare al dispositivo (?) 

show spanning-tree -> mostra la topologia ad albero costruita seguendo lo STP. 

? in modalità privilegiata -> per vedere tutti i comandi possibili in modalità privilegiata. 

exit / logout / disable -> fanno uscire dalla modalità privilegiata 

per annullare un comando sbagliato possiamo fare -> no command 

write memory -> scrive la running configuration in memoria 

do command -> per eseguire comando con modalità differente da quella attuale

VLAN virtuali da CLI:

vlan ?

vlan database ?

facendo vlan database cambia anche il prompt, che dice che sono entrato in un sottomodulo, che può contenere diversi comandi. 

prompt diventa Switch# -> Switch(vlan)# 

vlan database è però deprecato, quindi non lo usiamo.

per creare le vlan usiamo il comando configure terminal 

configure terminal / conf t / configure in terminal 

prompt diventa Switch(config) 

show non c'è, diventa necessario scrivere "do show" 

se eseguo vlan ? -> dice che chiede il vlan id 

vlan 10 ? -> vlan 10 -> entro in un nuovo sottomodulo.

name orange_10

exit -> ora il cambiamento viene effettuato ed è visibile nel vlan database. 

vlan 11 -> name cyan_11 -> exit 

do show vlan -> mostra il vlan database

le vlan sul pc servono in modalità access, non trunk. 

interfaces fastEthernet ?

interface fastEthernet 0/1 

shutdown 

no shutdown 

switchport ? 

switchport mode ? 

switchport mode access 

switchport access vlan ? -> vuole id del vlan 

switchport access vlan 10 -> exit

interface fastEthernet 1/1 -> switchport mode access -> switchport access vlan 11 -> exit 

eccetera sull'altro switch 

per l'interfaccia che deve fare trunking bisogna fare switchport trunk allowed vlan 10 11 (oppure) switchport trunk allowed vlan add 20 

interface fastEthernet 3/1 -> switchport mode trunk -> eccetera

posso anche fare switchport trunk allowed vlan remove x 




-------------------------------------------------------------------------------------------------

Lezione 06 - 18/11/22

Argomento della lezione è IP addressing (IPv4). 

Indirizzo di network -> 32 bit unsigned. Dotted notation: es: 159.149.139.9 . Indirizzo deve essere globalmente unico. 
5 Schemi di assegnazione degli indirizzi:
- class-based subnetting vs classless addressing (CIDR)	
- subnetting
- network address translation (NAT)
e poi IPv6. 

Class-based addressing: indirizzo IP contiene network ID + host ID. //bit meno significativi -> indicano host, più significativi indicano rete:
- hostID = 0 -> stessa rete 
- netID = 0 -> l'host indicato sulla stessa rete della source 
- tutti '1' -> broadcast sulla rete della sorgente 
- hostID tutti '1' -> broadcast sulla rete destinataria 

5 classi di indirizzi: [slide] 

Indirizzi particolari:
- 0.0.0.0 -> questo network 
- 255.255.255.255 -> broadcast su questo network (TTL=1 ???)
- <netID>.<00...00> -> indirizzo base della rete 
- <netID>.<11...11> -> broadcast sulla rete target 
- tutti i valori intermedi possono essere usati per gli apparati

Se usiamo x bit per netID e y (32-x) bit per hostID, allora la netmask è composta da x bit a '1' seguiti da y bit a '0'. 

Entry delle tabelle di instradamento: <dest, netmask, oif, metric, flags> -> facendo bitwise AND fra pkt.dest e netmask -> ottengo dest . 

altrimenti 2^32 linee nelle routing table -> mediamente n/2 per trovare ciò che voglio in tabella disordinata -> 2^31 .

Possiamo diminuire questo numero ragionando su come viaggiamo normalmente -> gerarchia di livelli di apparati. 

Esercizi:
- 127.128.129.192 -> 0111 1111 . 1000 0000 . 1000 0001. 1100 0000 
- 20.148.67.123 -> 0001 0100 . 1001 0100 . 0100 0011 . 0111 1011 
- 218.160.179.60 -> 1101 1010 . 1010 0000 . 1011 0011 . 0011 1100 
- 87.194.104.77 -> 0101 0111 . 1100 0010 . 1011 1000. 0100 1101 

- 0101 1011 . 0111 0110 . 0010 1111 . 1001 1111 -> 91.118.47.159
- 0000 1100 . 1000 1000 . 0111 0010 . 0011 0111 -> 12.136.114.55
- 1110 0111 . 0010 0110 . 0110 0100 . 0110 0000 -> 231.38.100.96

Broadcast, netmask, 2 indirizzi apparati per:
- 15.0.0.0 -> classe A (0...) :
	- Broadcast: 15.255.255.255 
	- Netmask: 255.0.0.0 (tira fuori solo netID con AND bitwise, maschera le differenze tra gli apparati)
	- Indirizzi apparati (primo e ultimo): 15.0.0.1, 15.255.255.254 
	
- 137.149.0.0 -> classe B (10...) :  
	- Broadcast: 137.149.255.255 
	- Netmask: 255.255.0.0 (tira fuori solo netID con AND bitwise, maschera le differenze tra gli apparati)
	- Indirizzi apparati (primo e ultimo): 137.149.0.1, 137.149.255.254 

- 215.151.59.0 -> classe C (110...) :  
	- Broadcast: 215.151.59.255 
	- Netmask: 255.255.255.0 (tira fuori solo netID con AND bitwise, maschera le differenze tra gli apparati)
	- Indirizzi apparati (primo e ultimo): 215.151.59.1, 215.151.59.254 	
 

CIDR -> Classless -> indirizzo di base di rete è x.y.w.z/n -> n indica i bit usati per netID, indipendentemente dalla classe. In indirizzo base gli ultimi 32-n bit devono essere '0'.

Togliamo il confine stabilito dalle classi, il "confine" della rete è determinato dal /n in CIDR.



--------------------------------------------------------------------------------------------------

Lezione 07 - 22/11/22

Usare un routing classless conviene. 

Indirizzo base di rete: z.y.w.z/n, dove n indica il numero di bit per netID, indipendetemente dalla classe. Nell'indirizzo base gli ultimi 32-n bit devono essere 0.

Es: 137.87.47.96/28 -> 32-28 -> 4 bit di hostid -> x.x.x.96 -> x.x.x. 0110 | 0000 (primi 4 sono ancora per netID, ultimi 4 sono per hostID). La rete può ospitare 2^4 apparati -1 (per quella indicante la rete) -1 (per quella indicante il broadcast sulla rete). 

Le classi C poichè poco volute e utilizzate sono state raggruppate in insiemi da usare come spazio contiguo di indirizzi:
- 194.0.0.0 - 195.255.255.255 -> Europa
- 198.0.0.0 - 199.255.255.255 -> Nord America 
- 200.0.0.0 - 201.255.255.255 -> Centro-Sud America 
- 202.0.0.0 - 203.255.255.255 -> Asia e Australia
.

Questa cosa facilita anche l'instradamento dai parte dei router -> se sono in NA e vedo un pacchetto con destinazione 194.x.x.x -> so già che devo instradare verso l'EU, mi basta guardare il primo ottetto; la maschera è come se fosse /8.

Sulle regioni possiamo fare reti di classe C -> ultimo ottetto per hostID -> 256*256 (ottetto 1 e 2) -> 131072 possibili classi C per ogni regione, quindi circa 33554432 indirizzi di host. 

Esempio su slide 12/44 -> maschera produce sempre l'indirizzo che è ricordato nella routing table come indirizzo base. In EU tutti devono sapere dove quell'indirizzo debba andare. La cardinalità dei gruppi è sempre una potenza di 2. 

Esercizio: indirizzamento a livello 3 dell'apparato: 111.162.136.87 (/12) 
apparato 111.162.136.87 /12 -> 12 bit 1 -> mask = 1111 1111 . 1111 0000 . 0000 0000 . 0000 0000 = 255.240.0.0 (mask)
perciò: 
	0110 1111 . 1010 | 0010 . 1000 1000 . 0000 1100 = 111.162.136.87 /12 (apparato)
	1111 1111 . 1111 | 0000 . 0000 0000 . 0000 0000 = 255.240.0.0 (maschera) 
	0110 1111 . 1010 | 0000 . 0000 0000 . 0000 0000 = 111.160.0.0 (indirizzo base della rete)
	0110 1111 . 1010 | 1111 . 1111 1111 . 1111 1111 = 111.175.255.255 (broadcast). 
	Range di apparati: 111.160.0.1 - 111.175.255.254 
	
Esercizio: indirizzamento a livello 3 dell'apparato 206.191.1.207 /25 
Apparato -> 206.191.1.207 -> 25 bit a 1 di maschera 
	1100 1010 . 1011 1111 . 0000 0001 . 1 | 100 1011 = 206.191.1.207 /25 (apparato) 
	1111 1111 . 1111 1111 . 1111 1111 . 1 | 000 0000 = 255.255.255.128 (mask) 
	1100 1010 . 1011 1111 . 0000 0001 . 1 | 000 0000 = 206.191.1.128 /25 (indirizzo base) 
	1100 1010 . 1011 1111 . 0000 0001 . 1 | 111 1111 = 206.191.1.255 (broadcast)
	Range: 206.191.1.129 - 206.191.1.254 

Esercizio: indirizzamento a livello 3 dell'apparato 57.47.77.159/11 
11 bit a 1 di maschera 
	0011 1011 . 001 | 0 1111 . 0100 1101 . 1001 1111 = 57.47.77.159 /11 (apparato)
	1111 1111 . 111 | 0 0000 . 0000 0000 . 0000 0000 = 255.224.0.0 /11 (mask)
	0011 1011 . 001 | 0 0000 . 0000 0000 . 0000 0000 = 57.32.0.0 /11 (base)	
	0011 1011 . 001 | 1 1111 . 1111 1111 . 1111 1111 = 57.63.255.255 (broadcast) 
	Range: 57.32.0.0 - 57.63.255.255 
.

Esercizio: indirizzamento a livello 3: 4 apparati: 
137.116.36.31, 137.116.32.205, 137.116.39.43, 137.116.35.112 -> trovare indirizzo base per rete minima. 
Hanno tutte i primi 2 ottetti uguali, guardo il terzo ottetto di tutti:
	36 -> 0010 0100 
	32 -> 0010 0000 
	39 -> 0010 0111 
	35 -> 0010 0011 
	la parte comune sono 5 bit -> 0010 0 | 000 -> indirizzo base con terzo ottetto -> 32 -> 5 bit di netID, 3 di hostID ->
	mask è di 16+5 bit -> 21 bit 
	137.116.32.0 /21 -> indirizzo base 
	255.255.248.0 -> mask
	137.116.39.255 -> broadcast
.

Router pretende che le sue interfacce abbiano ciascuna una rete diversa. Bisogna anche tenere un indirizzo extra da usare come gateway. 
Perciò tutti i dispositivi sono: end systems + gateway + broadcast + base. Per ogni subnet scegliere potenza di 2 minima per indirizzare tutti i dispositivi. 

In PT assegnare gli opportuni indirizzi a interfacce router e ricordarsi di mettere a ON l'interfaccia. Le interfacce di un router devono essere tutte su reti diverse. 

Per ogni host: assegnare l'opportuno indirizzo all'interfaccia di rete, indicare come indirizzo gateway l'indirizzo del router associato all'interfaccia appartenente alla stessa subnet dell'host. 

Virtualmente solo 30 dimensioni possibili di rete -> 30 punti di taglio da x.y.w.z/1 a x.y.w.z/30 . 

Slide 19/44. 

Best practice: il gateway ha sempre il primo oppure sempre l'ultimo indirizzo usabile.

Tabella:
INFO 				| 
INDIRIZZO BASE 		| 
INDIRIZZO BROADCAST | 
INDIRIZZO GATEWAY 	| 
PRIMO IP 			| 
ULTIMO IP 			| 
NETMASK 			| 
//WILDCARD 			| 
NOTE 				| 	

Es: 2 host connessi da cavo cross: rete 10.0.0.0/29
INFO 				| 2 pc 
INDIRIZZO BASE 		| 10.0.0.0/29 
INDIRIZZO BROADCAST | 10.0.0.7
INDIRIZZO GATEWAY 	| //in questo caso non vi è alcun gateway -> dovremmo dare l'indirizzo di un router 
PRIMO IP 			| 10.0.0.1 
ULTIMO IP 			| 10.0.0.6
NETMASK 			| 255.255.255.248
//WILDCARD 			| 
NOTE 				| 3 bit -> 6 indirizzi 

Es: 4 host + 1 hub, rete 192.168.90.0/27 -> 192.168.90.0
INFO 				| 4 host, 1 hub 
INDIRIZZO BASE 		| 192.168.90.0/27
INDIRIZZO BROADCAST | 192.168.90.31 
INDIRIZZO GATEWAY 	| (*) 
PRIMO IP 			| 192.168.90.1
ULTIMO IP 			| 192.168.90.30 
NETMASK 			| 255.255.255.224
//WILDCARD 			| 
NOTE 				| 












































































 





